<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Unity3D-项目创建和角色移动 | Hexo</title><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="创建项目打开 unity hub，点击新项目，选择 3d 模板 创建完毕后是这样  unity 资源商店可以使用别人做好的素材，AssetStore 找到想要的素材，点击在 unity 中打开，此时编辑器会弹出一个 Package Manager。点击 download 下载，下载好之后可以 import 导入，选择需要的资源导入即可。导入完毕在 Assets 会多一些文件夹 这里导入一个Prot">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity3D-项目创建和角色移动">
<meta property="og:url" content="http://example.com/2025/01/10/Unity3D-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E5%92%8C%E8%A7%92%E8%89%B2%E7%A7%BB%E5%8A%A8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="创建项目打开 unity hub，点击新项目，选择 3d 模板 创建完毕后是这样  unity 资源商店可以使用别人做好的素材，AssetStore 找到想要的素材，点击在 unity 中打开，此时编辑器会弹出一个 Package Manager。点击 download 下载，下载好之后可以 import 导入，选择需要的资源导入即可。导入完毕在 Assets 会多一些文件夹 这里导入一个Prot">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png">
<meta property="article:published_time" content="2025-01-10T09:27:06.000Z">
<meta property="article:modified_time" content="2025-02-06T11:24:11.944Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Unity3D">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Unity3D-项目创建和角色移动",
  "url": "http://example.com/2025/01/10/Unity3D-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E5%92%8C%E8%A7%92%E8%89%B2%E7%A7%BB%E5%8A%A8/",
  "image": "https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png",
  "datePublished": "2025-01-10T09:27:06.000Z",
  "dateModified": "2025-02-06T11:24:11.944Z",
  "author": [
    {
      "@type": "Person",
      "name": "John Doe",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="https://www.helloimg.com/i/2025/03/09/67cd36e6e958c.png"><link rel="canonical" href="http://example.com/2025/01/10/Unity3D-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E5%92%8C%E8%A7%92%E8%89%B2%E7%A7%BB%E5%8A%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":150,"languages":{"author":"Author: John Doe","link":"Link: ","source":"Source: Hexo","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'FancyBox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity3D-项目创建和角色移动',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(https://www.helloimg.com/i/2024/12/23/676927e078d9d.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://www.helloimg.com/i/2025/03/09/67cd36e6e958c.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">10</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Hexo</span></a><a class="nav-page-title" href="/"><span class="site-name">Unity3D-项目创建和角色移动</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Unity3D-项目创建和角色移动</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-01-10T09:27:06.000Z" title="Created 2025-01-10 17:27:06">2025-01-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-02-06T11:24:11.944Z" title="Updated 2025-02-06 19:24:11">2025-02-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Unity3D/">Unity3D</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">2.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>8mins</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p>打开 unity hub，点击新项目，选择 3d 模板</p>
<p>创建完毕后是这样</p>
<p><img src="https://www.helloimg.com/i/2025/01/10/6780e63642d22.png" alt="unity1.png"></p>
<h2 id="unity-资源商店"><a href="#unity-资源商店" class="headerlink" title="unity 资源商店"></a>unity 资源商店</h2><p>可以使用别人做好的素材，<a target="_blank" rel="noopener" href="https://assetstore.unity.com/zh-CN">AssetStore</a></p>
<p>找到想要的素材，点击在 unity 中打开，此时编辑器会弹出一个 Package Manager。点击 download 下载，下载好之后可以 import 导入，选择需要的资源导入即可。导入完毕在 Assets 会多一些文件夹</p>
<p>这里导入一个<a target="_blank" rel="noopener" href="https://assetstore.unity.com/packages/3d/prototyping-pack-free-94277">Prototyping Pack (Free)</a></p>
<p><img src="https://www.helloimg.com/i/2025/01/13/678485f9362ec.png" alt="unity1-1.png"></p>
<h2 id="添加素材"><a href="#添加素材" class="headerlink" title="添加素材"></a>添加素材</h2><p>在刚刚的资源中，选择一个扁平地形，这里选的是 PTK_Cuboid_5<br><img src="https://www.helloimg.com/i/2025/01/10/6780e634d6c2d.png" alt="unity2.png"></p>
<h2 id="添加纹理"><a href="#添加纹理" class="headerlink" title="添加纹理"></a>添加纹理</h2><p>在文件夹 materias，选择想要的纹理直接拖到物体上</p>
<h2 id="把地图多个物体作为一个整体"><a href="#把地图多个物体作为一个整体" class="headerlink" title="把地图多个物体作为一个整体"></a>把地图多个物体作为一个整体</h2><p>可以右键 create empty,重命名后可以将多个物体拖到这个下，操作整个地图只需要操作这个 empty</p>
<p><img src="https://www.helloimg.com/i/2025/01/13/678488255e6a1.png" alt="unity1-2.png"></p>
<h2 id="删除Main-camera"><a href="#删除Main-camera" class="headerlink" title="删除Main camera"></a>删除Main camera</h2><p>由于该项目是一个FPS(第一人称射击游戏)，所以不需要第三视角的相机</p>
<h2 id="创建角色"><a href="#创建角色" class="headerlink" title="创建角色"></a>创建角色</h2><p>这里以一个球体来表示玩家，右键添加一个 sphere，重命名为 Player,右键 Player 创建一个 empty，重命名为 Graphics，这个用来管理纹理。在编辑器右侧把Player带 mesh 的组件(这是用来控制纹理的，纹理我们用Graphics来管理)移除掉，右键 remove component。在 graphics 里面添加一个 Sphere，因为外侧的 Player 也是一个 Sphere，删除掉里面 sphere 的碰撞检测组件，Sphere collider。</p>
<p><img src="https://www.helloimg.com/i/2025/01/13/67848a53e6dae.png" alt="unity1-3.png"></p>
<p><img src="https://www.helloimg.com/i/2025/01/13/67848ae442009.png" alt="unity1-4.png"></p>
<h2 id="把相机放到第一视角"><a href="#把相机放到第一视角" class="headerlink" title="把相机放到第一视角"></a>把相机放到第一视角</h2><p>在 Player 上右键创建一个 Camera，由于物体的面都是有向的，所以可以把相机塞到球体里面，此时相机可以看到外面，外面看不到相机。</p>
<p><img src="https://www.helloimg.com/i/2025/01/10/6780e636bed88.png" alt="unity3.png"></p>
<h2 id="添加玩家的枪"><a href="#添加玩家的枪" class="headerlink" title="添加玩家的枪"></a>添加玩家的枪</h2><p>在资源商店选择<a target="_blank" rel="noopener" href="https://assetstore.unity.com/packages/3d/props/weapons/3d-guns-guns-pack-228975">3D GUNS | Guns Pack</a>。下载并导入<br><img src="https://www.helloimg.com/i/2025/01/10/6780e634c6d71.png" alt="unity4.png"></p>
<p>把喜欢的枪添加到相机里面，直接把枪拖到 Player 里的 camera 上。调整枪的方向、大小和位置，第一人称能看到枪</p>
<p><img src="https://www.helloimg.com/i/2025/01/13/67848f07078e0.png" alt="unity1-5.png"></p>
<h2 id="玩家移动"><a href="#玩家移动" class="headerlink" title="玩家移动"></a>玩家移动</h2><p>注意一个问题，玩家移动视角时，左右看是玩家左右旋转，而抬头低头就只旋转 Camera。</p>
<h3 id="实现键盘控制玩家移动"><a href="#实现键盘控制玩家移动" class="headerlink" title="实现键盘控制玩家移动"></a>实现键盘控制玩家移动</h3><p>给 Player 增加一个 rigidbody 组件，在 Unity 中，Rigidbody 组件用于为游戏对象添加物理属性，使其能够受到物理引擎的控制。由于 Player 是一个球体需要浮空一点，所以<strong>关闭 rigidbody 的重力</strong></p>
<p>给 Player 添加代码，选择 Player，add component 一个 new script。添加两个脚本文件: PlayerInput 和 PlayerController。</p>
<p><img src="https://www.helloimg.com/i/2025/01/13/6784902945945.png" alt="unity1-6.png"></p>
<p>打开代码后：<br>PlayerController</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerController</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PlayerInput</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerInput</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>获取键盘前后左右的输入,注意带[SerializeField]的变量要在unity editor中赋值,PlayerInput.cs:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PlayerInput类用于处理玩家的输入</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerInput</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// [SerializeField]使私有变量在Unity编辑器中可见并可编辑</span></span><br><span class="line">    <span class="comment">// speed变量用于控制玩家的移动速度</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> speed = <span class="number">2f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// controller是PlayerController组件的引用，用于调用移动逻辑</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> PlayerController controller;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start方法在游戏对象初始化时调用一次</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update方法每一帧调用一次，用于处理实时输入和逻辑</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 获取水平轴（Horizontal）的输入值</span></span><br><span class="line">        <span class="comment">// Input.GetAxisRaw(&quot;Horizontal&quot;)返回一个值：</span></span><br><span class="line">        <span class="comment">// -1 表示玩家按下左键（A或左箭头）</span></span><br><span class="line">        <span class="comment">//  1 表示玩家按下右键（D或右箭头）</span></span><br><span class="line">        <span class="comment">//  0 表示没有按下任何键</span></span><br><span class="line">        <span class="built_in">float</span> xMov = Input.GetAxisRaw(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取垂直轴（Vertical）的输入值</span></span><br><span class="line">        <span class="comment">// Input.GetAxisRaw(&quot;Vertical&quot;)返回一个值：</span></span><br><span class="line">        <span class="comment">// -1 表示玩家按下下键（S或下箭头）</span></span><br><span class="line">        <span class="comment">//  1 表示玩家按下上键（W或上箭头）</span></span><br><span class="line">        <span class="comment">//  0 表示没有按下任何键</span></span><br><span class="line">        <span class="built_in">float</span> yMov = Input.GetAxisRaw(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 计算移动方向</span></span><br><span class="line">        <span class="comment">// transform.right 是游戏对象的局部右方向（X轴）</span></span><br><span class="line">        <span class="comment">// transform.forward 是游戏对象的局部前方向（Z轴）</span></span><br><span class="line">        <span class="comment">// 将水平和垂直输入值分别与右方向和前方向相乘，得到移动方向向量</span></span><br><span class="line">        <span class="comment">// .normalized 将向量归一化，确保移动速度不会因为斜向移动而变快</span></span><br><span class="line">        <span class="comment">// 乘以 speed 以控制移动速度</span></span><br><span class="line">        Vector3 velocity = (transform.right * xMov + transform.forward * yMov).normalized * speed;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用PlayerController的Move方法，传递计算出的速度</span></span><br><span class="line">        <span class="comment">// 这里 velocity 已经乘以了 speed，因此不需要再乘以 speed</span></span><br><span class="line">        controller.Move(velocity);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>控制玩家移动的逻辑，PlayerController.cs:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PlayerController类用于控制玩家的移动逻辑</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerController</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// [SerializeField]使私有变量在Unity编辑器中可见并可编辑</span></span><br><span class="line">    <span class="comment">// rb是玩家的Rigidbody组件，用于物理移动</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> Rigidbody rb;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// velocity用于存储玩家的移动速度</span></span><br><span class="line">    <span class="keyword">private</span> Vector3 velocity = Vector3.zero;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Move方法用于设置玩家的移动速度</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Move</span>(<span class="params">Vector3 _velocity</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        velocity = _velocity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// PerformMovement方法用于执行玩家的移动</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PerformMovement</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 如果速度不为零，则移动玩家</span></span><br><span class="line">        <span class="keyword">if</span> (velocity != Vector3.zero)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 使用Rigidbody的MovePosition方法移动玩家</span></span><br><span class="line">            <span class="comment">// rb.position + velocity * Time.fixedDeltaTime 计算新的位置</span></span><br><span class="line">            <span class="comment">// Time.fixedDeltaTime 是固定时间步长，确保物理更新与帧率无关</span></span><br><span class="line">            rb.MovePosition(rb.position + velocity * Time.fixedDeltaTime);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// FixedUpdate方法在固定时间间隔调用，用于物理更新</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">FixedUpdate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        PerformMovement();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实现旋转视角"><a href="#实现旋转视角" class="headerlink" title="实现旋转视角"></a>实现旋转视角</h3><p>PlayerController.cs:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PlayerController类用于控制玩家的移动和旋转逻辑</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerController</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// [SerializeField]使私有变量在Unity编辑器中可见并可编辑</span></span><br><span class="line">    <span class="comment">// rb是玩家的Rigidbody组件，用于物理移动</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> Rigidbody rb;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// cam是摄像机组件，用于控制视角旋转</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> Camera cam;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// velocity用于存储玩家的移动速度，每秒移动的速度</span></span><br><span class="line">    <span class="keyword">private</span> Vector3 velocity = Vector3.zero;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// yRotation用于存储角色的旋转值（绕Y轴旋转）</span></span><br><span class="line">    <span class="keyword">private</span> Vector3 yRotation = Vector3.zero;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// xRotation用于存储摄像机的旋转值（绕X轴旋转）</span></span><br><span class="line">    <span class="keyword">private</span> Vector3 xRotation = Vector3.zero;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Move方法用于设置玩家的移动速度</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Move</span>(<span class="params">Vector3 _velocity</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        velocity = _velocity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Rotate方法用于设置角色和摄像机的旋转值</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Rotate</span>(<span class="params">Vector3 _yRotation, Vector3 _xRotation</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        yRotation = _yRotation;</span><br><span class="line">        xRotation = _xRotation;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// PerformMovement方法用于执行玩家的移动</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PerformMovement</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 如果速度不为零，则移动玩家</span></span><br><span class="line">        <span class="keyword">if</span> (velocity != Vector3.zero)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 使用Rigidbody的MovePosition方法移动玩家</span></span><br><span class="line">            <span class="comment">// rb.position + velocity * Time.fixedDeltaTime 计算新的位置</span></span><br><span class="line">            <span class="comment">// Time.fixedDeltaTime 是固定时间步长，确保物理更新与帧率无关</span></span><br><span class="line">            rb.MovePosition(rb.position + velocity * Time.fixedDeltaTime);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// PerformRotation方法用于执行角色和摄像机的旋转</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PerformRotation</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 如果yRotation不为零，则旋转角色（绕Y轴旋转）</span></span><br><span class="line">        <span class="keyword">if</span> (yRotation != Vector3.zero)</span><br><span class="line">        &#123;</span><br><span class="line">            rb.transform.Rotate(yRotation);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果xRotation不为零，则旋转摄像机（绕X轴旋转）</span></span><br><span class="line">        <span class="keyword">if</span> (xRotation != Vector3.zero)</span><br><span class="line">        &#123;</span><br><span class="line">            cam.transform.Rotate(xRotation);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// FixedUpdate方法在固定时间间隔调用，用于物理更新</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">FixedUpdate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        PerformMovement(); <span class="comment">// 执行移动</span></span><br><span class="line">        PerformRotation(); <span class="comment">// 执行旋转</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PlayerInput.cs:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PlayerInput类用于处理玩家的输入</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerInput</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// [SerializeField]使私有变量在Unity编辑器中可见并可编辑</span></span><br><span class="line">    <span class="comment">// speed变量用于控制玩家的移动速度</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> speed = <span class="number">2f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// lookSensitivity变量用于控制鼠标视角旋转的灵敏度</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> lookSensitivity = <span class="number">8f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// controller是PlayerController组件的引用，用于调用移动和旋转逻辑</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> PlayerController controller;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start方法在游戏对象初始化时调用一次</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 锁定鼠标光标到屏幕中心，隐藏光标</span></span><br><span class="line">        Cursor.lockState = CursorLockMode.Locked;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update方法每一帧调用一次，用于处理实时输入和逻辑</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 获取水平轴（Horizontal）的输入值</span></span><br><span class="line">        <span class="comment">// Input.GetAxisRaw(&quot;Horizontal&quot;)返回一个值：</span></span><br><span class="line">        <span class="comment">// -1 表示玩家按下左键（A或左箭头）</span></span><br><span class="line">        <span class="comment">//  1 表示玩家按下右键（D或右箭头）</span></span><br><span class="line">        <span class="comment">//  0 表示没有按下任何键</span></span><br><span class="line">        <span class="built_in">float</span> xMov = Input.GetAxisRaw(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取垂直轴（Vertical）的输入值</span></span><br><span class="line">        <span class="comment">// Input.GetAxisRaw(&quot;Vertical&quot;)返回一个值：</span></span><br><span class="line">        <span class="comment">// -1 表示玩家按下下键（S或下箭头）</span></span><br><span class="line">        <span class="comment">//  1 表示玩家按下上键（W或上箭头）</span></span><br><span class="line">        <span class="comment">//  0 表示没有按下任何键</span></span><br><span class="line">        <span class="built_in">float</span> yMov = Input.GetAxisRaw(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 计算移动方向</span></span><br><span class="line">        <span class="comment">// transform.right 是游戏对象的局部右方向（X轴）</span></span><br><span class="line">        <span class="comment">// transform.forward 是游戏对象的局部前方向（Z轴）</span></span><br><span class="line">        <span class="comment">// 将水平和垂直输入值分别与右方向和前方向相乘，得到移动方向向量</span></span><br><span class="line">        <span class="comment">// .normalized 将向量归一化，确保移动速度不会因为斜向移动而变快</span></span><br><span class="line">        <span class="comment">// 乘以 speed 以控制移动速度</span></span><br><span class="line">        Vector3 velocity = (transform.right * xMov + transform.forward * yMov).normalized * speed;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用PlayerController的Move方法，传递计算出的速度</span></span><br><span class="line">        controller.Move(velocity);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取鼠标在X轴和Y轴上的移动输入</span></span><br><span class="line">        <span class="built_in">float</span> xMouse = Input.GetAxisRaw(<span class="string">&quot;Mouse X&quot;</span>); <span class="comment">// 鼠标水平移动</span></span><br><span class="line">        <span class="built_in">float</span> yMouse = Input.GetAxisRaw(<span class="string">&quot;Mouse Y&quot;</span>); <span class="comment">// 鼠标垂直移动</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 计算角色和摄像机的旋转值</span></span><br><span class="line">        <span class="comment">// yRotation 是角色绕Y轴旋转的值（左右旋转）</span></span><br><span class="line">        <span class="comment">// xRotation 是摄像机绕X轴旋转的值（上下旋转）</span></span><br><span class="line">        <span class="comment">// 乘以 lookSensitivity 以控制旋转的灵敏度</span></span><br><span class="line">        Vector3 yRotation = <span class="keyword">new</span> Vector3(<span class="number">0f</span>, xMouse, <span class="number">0f</span>) * lookSensitivity;</span><br><span class="line">        Vector3 xRotation = <span class="keyword">new</span> Vector3(-yMouse, <span class="number">0f</span>, <span class="number">0f</span>) * lookSensitivity;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用PlayerController的Rotate方法，传递旋转值</span></span><br><span class="line">        controller.Rotate(yRotation, xRotation);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="导出项目"><a href="#导出项目" class="headerlink" title="导出项目"></a>导出项目</h2><p>File-&gt;Build Settings-&gt;选择平台-&gt;PlayerSettings 选择合适选项</p>
<p><img src="https://www.helloimg.com/i/2025/01/13/678499673df1c.png" alt="unity1-7.png"></p>
<p>这里以 build 一个 Windows 为例：</p>
<p><img src="https://www.helloimg.com/i/2025/01/10/6780e63370482.png" alt="unity5.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">John Doe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2025/01/10/Unity3D-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E5%92%8C%E8%A7%92%E8%89%B2%E7%A7%BB%E5%8A%A8/">http://example.com/2025/01/10/Unity3D-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E5%92%8C%E8%A7%92%E8%89%B2%E7%A7%BB%E5%8A%A8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Unity3D/">Unity3D</a></div><div class="post-share"><div class="social-share" data-image="https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/01/07/Web%E9%A1%B9%E7%9B%AE-%E6%8B%B3%E7%9A%87-%E4%B8%8B/" title="Web项目-拳皇-下"><img class="cover" src="https://www.helloimg.com/i/2025/01/06/677bc62f84cf4.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Web项目-拳皇-下</div></div><div class="info-2"><div class="info-item-1">项目实战–拳皇实现攻击效果在Player类中把人物背景渲染出来，以及添加一个矩形来表示挥拳范围，便于碰撞检测 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// render方法，表示玩家角色在游戏画面中的呈现形式，这里不是简单地使用矩形填充绘制，而是根据玩家角色当前的状态，从对应的动画信息中获取相应帧的图像，并绘制到游戏画面上，实现更丰富的动画效果展示render() &#123;    this.ctx.fillStyle = &#x27;blue&#x27;;    this.ctx.fillRect(this.x, this.y, this.width, this.height);    //如果是正方向    if (this.direction &gt; 0) &#123;        //画一个矩形表示挥拳的范围，以便于做碰撞检测        this.ctx.fillStyle =...</div></div></div></a><a class="pagination-related" href="/2025/01/13/Unity3D-%E5%90%8C%E4%B8%80%E4%B8%AA%E5%B1%80%E5%9F%9F%E7%BD%91%E8%81%94%E6%9C%BA/" title="Unity3D-同一个局域网联机"><img class="cover" src="https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Unity3D-同一个局域网联机</div></div><div class="info-2"><div class="info-item-1">同一个局域网内联机联机如何实现？服务器判断： 玩家 a 移动，在其他玩家眼里也会动。一般通过一个中心服务器 Server 实现，首先玩家 a 的客户端 clientA 向 Server发送控制移动的输入，Server 判断玩家 a 能否移动，Server 判断完毕后，将结果发送给 ClientA 和 ClientB 等其他客户端。客户端接收到消息后再渲染出动画。问题就是有网络延迟。  客户端判断： 玩家 a 移动，在自己的客户端中判断是否能移动，然后将移动的消息传给 Server，但是 Server 不需要传回 ClinetA。然后 Server 更新自己的信息，再同步发送到 ClientB 等其他客户端。问题就是客户端可以发送 Server 虚假的信息，也就是外挂。  同步多个客户端描述的同一个游戏场景，再 clinetA 中玩家 a,b,c 的坐标和 ClinetB 中 a,b,c 的坐标应该是一致的，由于有网络延迟的存在，不可能完全一致。 例如由于网络延迟的原因会造成玩家不同的运动轨迹  权衡利弊后根据某个玩家的状态去同步其他玩家 实现在 unity...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/01/13/Unity3D-%E5%90%8C%E4%B8%80%E4%B8%AA%E5%B1%80%E5%9F%9F%E7%BD%91%E8%81%94%E6%9C%BA/" title="Unity3D-同一个局域网联机"><img class="cover" src="https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-13</div><div class="info-item-2">Unity3D-同一个局域网联机</div></div><div class="info-2"><div class="info-item-1">同一个局域网内联机联机如何实现？服务器判断： 玩家 a 移动，在其他玩家眼里也会动。一般通过一个中心服务器 Server 实现，首先玩家 a 的客户端 clientA 向 Server发送控制移动的输入，Server 判断玩家 a 能否移动，Server 判断完毕后，将结果发送给 ClientA 和 ClientB 等其他客户端。客户端接收到消息后再渲染出动画。问题就是有网络延迟。  客户端判断： 玩家 a 移动，在自己的客户端中判断是否能移动，然后将移动的消息传给 Server，但是 Server 不需要传回 ClinetA。然后 Server 更新自己的信息，再同步发送到 ClientB 等其他客户端。问题就是客户端可以发送 Server 虚假的信息，也就是外挂。  同步多个客户端描述的同一个游戏场景，再 clinetA 中玩家 a,b,c 的坐标和 ClinetB 中 a,b,c 的坐标应该是一致的，由于有网络延迟的存在，不可能完全一致。 例如由于网络延迟的原因会造成玩家不同的运动轨迹  权衡利弊后根据某个玩家的状态去同步其他玩家 实现在 unity...</div></div></div></a><a class="pagination-related" href="/2025/01/14/Unity3D-%E9%A3%9E%E8%A1%8C%E4%B8%8E%E5%B0%84%E5%87%BB/" title="Unity3D-飞行与射击"><img class="cover" src="https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-14</div><div class="info-item-2">Unity3D-飞行与射击</div></div><div class="info-2"><div class="info-item-1">飞行和射击冻结旋转物体的Rigidbody组件可以给物体增加物理属性。当我们增加Rigidbody组件后，给物体一个力，就会发现物体会进行一定的运动，而且会螺旋升天。这时我们就需要在Constraints的下拉列表中冻结掉物体的旋转，  增加弹簧在我们的角色中添加一个Configurable Joint组件。并且修改Y方向的弹簧效果及修改Y Drive。第一个属性：Position Spring：弹簧的扭矩。这边可以简单理解为和弹簧的弹力成正比。  给第一个属性赋值。这时当我们向上拖动我们的角色的时候，就会发现我们的角色进行着简谐运动。而且可能会出现穿模，还有穿到地板下面卡住。这是因为，在unity中，当物体的移动速度过快，就会造成穿模现象。当我们的角色穿过地板之后，再往回穿时，可能速度变慢，结果就被迫当了土行孙。那么怎么解决这个问题呢？那就要限制我们角色向下的最大作用力。这时就需要Y Drive中的第三个属性：Maimum...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://www.helloimg.com/i/2025/03/09/67cd36e6e958c.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">John Doe</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lzhiscoding/"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">创建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unity-%E8%B5%84%E6%BA%90%E5%95%86%E5%BA%97"><span class="toc-number">2.</span> <span class="toc-text">unity 资源商店</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%B4%A0%E6%9D%90"><span class="toc-number">3.</span> <span class="toc-text">添加素材</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%BA%B9%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">添加纹理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%8A%E5%9C%B0%E5%9B%BE%E5%A4%9A%E4%B8%AA%E7%89%A9%E4%BD%93%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E6%95%B4%E4%BD%93"><span class="toc-number">5.</span> <span class="toc-text">把地图多个物体作为一个整体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4Main-camera"><span class="toc-number">6.</span> <span class="toc-text">删除Main camera</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2"><span class="toc-number">7.</span> <span class="toc-text">创建角色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%8A%E7%9B%B8%E6%9C%BA%E6%94%BE%E5%88%B0%E7%AC%AC%E4%B8%80%E8%A7%86%E8%A7%92"><span class="toc-number">8.</span> <span class="toc-text">把相机放到第一视角</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%8E%A9%E5%AE%B6%E7%9A%84%E6%9E%AA"><span class="toc-number">9.</span> <span class="toc-text">添加玩家的枪</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%A9%E5%AE%B6%E7%A7%BB%E5%8A%A8"><span class="toc-number">10.</span> <span class="toc-text">玩家移动</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E9%94%AE%E7%9B%98%E6%8E%A7%E5%88%B6%E7%8E%A9%E5%AE%B6%E7%A7%BB%E5%8A%A8"><span class="toc-number">10.1.</span> <span class="toc-text">实现键盘控制玩家移动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%97%8B%E8%BD%AC%E8%A7%86%E8%A7%92"><span class="toc-number">10.2.</span> <span class="toc-text">实现旋转视角</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%87%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">11.</span> <span class="toc-text">导出项目</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/Springboot-%E5%88%9B%E5%BB%BA%E5%AF%B9%E6%88%98%E5%88%97%E8%A1%A8%E5%92%8C%E6%8E%92%E8%A1%8C%E6%A6%9C%E9%A1%B5%E9%9D%A2/" title="Springboot-创建对战列表和排行榜页面"><img src="https://www.helloimg.com/i/2025/01/22/679071c920edf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Springboot-创建对战列表和排行榜页面"/></a><div class="content"><a class="title" href="/2025/01/24/Springboot-%E5%88%9B%E5%BB%BA%E5%AF%B9%E6%88%98%E5%88%97%E8%A1%A8%E5%92%8C%E6%8E%92%E8%A1%8C%E6%A6%9C%E9%A1%B5%E9%9D%A2/" title="Springboot-创建对战列表和排行榜页面">Springboot-创建对战列表和排行榜页面</a><time datetime="2025-01-24T09:00:42.000Z" title="Created 2025-01-24 17:00:42">2025-01-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/Springboot-%E5%AE%9E%E7%8E%B0%E5%BE%AE%E6%9C%8D%E5%8A%A1Bot%E4%BB%A3%E7%A0%81%E7%9A%84%E6%89%A7%E8%A1%8C/" title="Springboot-实现微服务Bot代码的执行"><img src="https://www.helloimg.com/i/2025/01/22/679071c920edf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Springboot-实现微服务Bot代码的执行"/></a><div class="content"><a class="title" href="/2025/01/24/Springboot-%E5%AE%9E%E7%8E%B0%E5%BE%AE%E6%9C%8D%E5%8A%A1Bot%E4%BB%A3%E7%A0%81%E7%9A%84%E6%89%A7%E8%A1%8C/" title="Springboot-实现微服务Bot代码的执行">Springboot-实现微服务Bot代码的执行</a><time datetime="2025-01-24T09:00:11.000Z" title="Created 2025-01-24 17:00:11">2025-01-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/Springboot-%E5%AE%9E%E7%8E%B0%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8C%B9%E9%85%8D%E7%B3%BB%E7%BB%9F/" title="Springboot-实现微服务匹配系统"><img src="https://www.helloimg.com/i/2025/01/22/679071c920edf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Springboot-实现微服务匹配系统"/></a><div class="content"><a class="title" href="/2025/01/24/Springboot-%E5%AE%9E%E7%8E%B0%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8C%B9%E9%85%8D%E7%B3%BB%E7%BB%9F/" title="Springboot-实现微服务匹配系统">Springboot-实现微服务匹配系统</a><time datetime="2025-01-24T08:59:37.000Z" title="Created 2025-01-24 16:59:37">2025-01-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/Springboot-%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B5%E9%9D%A2/" title="Springboot-创建个人中心页面"><img src="https://www.helloimg.com/i/2025/01/22/679071c920edf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Springboot-创建个人中心页面"/></a><div class="content"><a class="title" href="/2025/01/24/Springboot-%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B5%E9%9D%A2/" title="Springboot-创建个人中心页面">Springboot-创建个人中心页面</a><time datetime="2025-01-24T08:58:59.000Z" title="Created 2025-01-24 16:58:59">2025-01-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/Springboot-%E9%85%8D%E7%BD%AEMySQL%E5%92%8C%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97/" title="Springboot-配置MySQL和注册登录模块"><img src="https://www.helloimg.com/i/2025/01/22/679071c920edf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Springboot-配置MySQL和注册登录模块"/></a><div class="content"><a class="title" href="/2025/01/24/Springboot-%E9%85%8D%E7%BD%AEMySQL%E5%92%8C%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97/" title="Springboot-配置MySQL和注册登录模块">Springboot-配置MySQL和注册登录模块</a><time datetime="2025-01-24T08:24:59.000Z" title="Created 2025-01-24 16:24:59">2025-01-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://www.helloimg.com/i/2025/01/10/6780e6354c8d9.png);"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By John Doe</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://www.lzhiscoding.xyz">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'www.lzhiscoding.xyz',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'www.lzhiscoding.xyz',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>